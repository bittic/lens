(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-Account"],{"2c04":function(t,e,a){"use strict";a.r(e);var s=a("f7cd"),i=a("b8af");for(var n in i)"default"!==n&&function(t){a.d(e,t,(function(){return i[t]}))}(n);a("dcb3");var o,l=a("f0c5"),c=Object(l["a"])(i["default"],s["b"],s["c"],!1,null,"160cf5f8",null,!1,s["a"],o);e["default"]=c.exports},"88fa":function(t,e,a){var s=a("24fb");e=s(!1),e.push([t.i,'@charset "UTF-8";\n/**\n * 这里是uni-app内置的常用样式变量\n *\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\n *\n */\n/**\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\n *\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\n */\n/* 颜色变量 */\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */\n/******* LOG 私有定义 ************/.sCardContent .sColorText[data-v-160cf5f8]{cursor:pointer}.sCardContent .sColorText .sColorCode[data-v-160cf5f8]{padding:4px 0}.sStat[data-v-160cf5f8]{border:1px solid #eee;border-radius:%?20?%;margin:%?4?% %?16?%;font-size:small;padding:%?8?% %?16?%\n}.sStat uni-text[data-v-160cf5f8]{color:#fc4e2b;padding-left:8px}@media screen and (min-width:751px){.sStat[data-v-160cf5f8]{margin:4px 16px;padding:8px 16px}}.sCell4hash[data-v-160cf5f8]{width:20%;cursor:pointer}.sCell4type[data-v-160cf5f8]{width:10%}.sCell4oponent[data-v-160cf5f8]{width:20%;cursor:pointer}.sCell4direction[data-v-160cf5f8]{width:10%}.sCell4timeiso[data-v-160cf5f8]{width:10%}.sCell4amount[data-v-160cf5f8]{width:10%}.sCell4fee[data-v-160cf5f8]{width:5%}.sCell4message[data-v-160cf5f8]{width:15%}',""]),t.exports=e},b8af:function(t,e,a){"use strict";a.r(e);var s=a("f671"),i=a.n(s);for(var n in s)"default"!==n&&function(t){a.d(e,t,(function(){return s[t]}))}(n);e["default"]=i.a},d136:function(t,e,a){var s=a("88fa");"string"===typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);var i=a("4f06").default;i("65745131",s,!0,{sourceMap:!1,shadowMode:!1})},dcb3:function(t,e,a){"use strict";var s=a("d136"),i=a.n(s);i.a},f671:function(t,e,a){"use strict";(function(t){var s=a("ee27");a("99af"),a("d81d"),a("4e82"),a("dca8"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=s(a("d0ff")),n=s(a("d0af"));a("96cf");var o=s(a("c964")),l={data:function(){return{i18nText:Object.freeze({zhCN:{tPageTitle:"账户",tFieldList:{hash:"哈希",type:"类型",oponent:"对方",direction:"方向",timeiso:"时间",amount:"金额",fee:"费用",message:"备注"},tAddress:"我的账号",tLogout:"退出",tBalance:"我的财富",tDeposit:"存入",tTransfer:"转出",tTableTitle:"我的交易",tAddressCopied:"我的账号已拷贝",tCellCopied:"已拷贝",tEmptyAddress:"我的账号为空",tLoadingTitle:"加载中...",tSearchbarPrompt:"搜索功能即将上线",tFailedLoading:"交易加载失败，请稍后再试"},enUS:{tPageTitle:"Account",tFieldList:{hash:"Hash",type:"Type",oponent:"Oponent",direction:"Direction",timeiso:"Time",amount:"Amount",fee:"Fee",message:"Notes"},tAddress:"My Address",tLogout:"Logout",tBalance:"My Balance",tDeposit:"存入",tTransfer:"转出",tTableTitle:"My Actions",tAddressCopied:"My address is copied to clipboard successfully",tCellCopied:"is copied to clipboard",tEmptyAddress:"My address is empty",tLoadingTitle:"Loading...",tSearchbarPrompt:"Search will go online soon",tFailedLoading:"Failed to load my actions. Please try again later."}}),actionList:[],pageSize:10}},computed:{localeText:function(){return this.i18nText[this._SS.i18n.activeLang]},appName:function(){return this.$store.getters["i18n/getAppName"]}},onLoad:function(){var t=this;return(0,o.default)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.uni2log.relaunch4newSession()){e.next=5;break}return e.next=3,t.loadAccount();case 3:return e.next=5,t.loadActionList({type:"TOP",scenario:"FIRST_LOAD"});case 5:case"end":return e.stop()}}),e)})))()},onShow:function(){document.title=this.appName,this._SC("i18n/setTabbar")},methods:{loadAccount:function(){var e=this;return(0,o.default)(regeneratorRuntime.mark((function a(){var s,i,o,l,c;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return uni.showLoading({title:"正在加载账户信息..."}),a.next=3,e.uni2log.request({url:"api/Account/getAccount",data:{where:{address:e._SS.ownerAddress}}});case 3:s=a.sent,i=(0,n.default)(s,2),i[0],o=i[1],o=void 0===o?{}:o,l=o.data,o.header,c=o.statusCode,uni.hideLoading(),200===c?l&&"Account"===l._class&&(e._SS.ownerBalance=l.balance,e._SS.ownerAccount=l,t("log","account = ",l," at pages/Account.vue:70")):uni.reLaunch({url:"IdentHost"});case 11:case"end":return a.stop()}}),a)})))()},loadActionList:function(e){var a=this;return(0,o.default)(regeneratorRuntime.mark((function s(){var o,l,c,r,u,d,v,p,f,C,w;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:if(o=e.type,e.current,l=e.scenario,t("log","Action.loadActionList: go to ".concat(o)," at pages/Account.vue:80"),r=a.actionList.length?a.actionList[0].timeiso:0,u=a.actionList.length?a.actionList[a.actionList.length-1].timeiso:0,t("log",{upTimeiso:r,downTimeiso:u}," at pages/Account.vue:84"),"LEFT"!==o){s.next=9;break}c={where:{myAddress:a._SS.ownerAddress,timeiso:">".concat(r)},order:{timeiso:"DESC"},take:a.pageSize},s.next=22;break;case 9:if("RIGHT"!==o){s.next=13;break}c={where:{myAddress:a._SS.ownerAddress,timeiso:"<".concat(u)},order:{timeiso:"DESC"},take:a.pageSize},s.next=22;break;case 13:if("TOP"!==o&&"LEFT_END"!==o){s.next=17;break}c={where:{myAddress:a._SS.ownerAddress},order:{timeiso:"DESC"},take:a.pageSize},s.next=22;break;case 17:if("ground"!==o&&"RIGHT_END"!==o){s.next=21;break}c={where:{myAddress:a._SS.ownerAddress},order:{timeiso:"DESC"},take:a.pageSize},s.next=22;break;case 21:return s.abrupt("return");case 22:if(!("LEFT_END"===o&&a.actionList[0]&&new Date-new Date(a.actionList[0].timeiso)<6e4)){s.next=25;break}return a.uni2log.showToast.call(a,{image:"../static/Common.info.png",title:"已是最新交易"}),s.abrupt("return");case 25:return uni.showLoading({title:"正在加载交易记录..."}),s.next=28,a.uni2log.request({url:"api/Action/getMyActionList",data:c});case 28:d=s.sent,v=(0,n.default)(d,2),v[0],p=v[1],p=void 0===p?{}:p,f=p.data,p.header,C=p.statusCode,uni.hideLoading(),200===C?f&&(f.fromMe||f.toMe)&&(t("log","received data:",f," at pages/Account.vue:110"),f.fromMe.map((function(t,e,a){t.direction="fromMe",t.oponent=t.toAddress})),f.toMe.map((function(t,e,a){t.direction="toMe",t.oponent=t.actorAddress})),w=[].concat((0,i.default)(f.fromMe),(0,i.default)(f.toMe)),t("log",w," at pages/Account.vue:120"),w.length>0?(w.sort((function(t,e){return t<e?1:t===e?0:-1})),a.actionList=w):"FIRST_LOAD"!==l&&a.uni2log.showToast.call(a,{type:"info",image:"../static/Common.info.png",title:"没有更多交易"})):"FIRST_LOAD"!==l&&a.uni2log.showToast.call(a,{type:"fail",image:"../static/Common.fail.png",title:a.localeText.tFailedLoading});case 36:case"end":return s.stop()}}),s)})))()},copyAddress:function(){var t=this;this._SS.ownerAddress?uni.setClipboardData({data:this._SS.ownerAddress,success:function(){t.uni2log.showToast.call(t,{type:"success",image:"../static/Common.success.png",title:t.localeText.tAddressCopied})}}):this.uni2log.showToast.call(this,{type:"fail",title:this.localeText.tEmptyAddress,image:"../static/Common.fail.png"})},copyCell:function(t,e){var a=this;uni.setClipboardData({data:this.actionList[t][e],success:function(){a.uni2log.showToast.call(a,{type:"success",image:"../static/Common.success.png",title:"".concat(a.localeText.tFieldList[e]," ").concat(a.localeText.tCellCopied)})}})},formatDate:function(t){return new Date(t).formatMe("yyyy-mm-dd HH:MM:SS")}}};e.default=l}).call(this,a("0de9")["log"])},f7cd:function(t,e,a){"use strict";var s={cHeader:a("36d7").default},i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-uni-view",{staticClass:"sPage"},[a("cToast",{ref:"toast"}),a("cHeader"),a("v-uni-view",{staticClass:"sBody"},[a("v-uni-view",{staticClass:"sContent"},[a("v-uni-view",{staticClass:"sCardGroup"},[a("v-uni-view",{staticClass:"sCardBox"},[a("v-uni-view",{staticClass:"sCard"},[a("v-uni-view",{staticClass:"sCardTitle"},[a("span",[t._v(t._s(t.localeText.tAddress))]),a("v-uni-view",{staticClass:"sActGroup"},[a("v-uni-button",{staticClass:"sActButton",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.uni2log.logout.apply(t.uni2log,arguments)}}},[a("v-uni-view",{staticStyle:{backgroundImage:"url(../static/Common.exit.png)"}}),t._v(t._s(t.localeText.tLogout))],1)],1)],1),a("v-uni-view",{staticClass:"sCardContent",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.copyAddress.apply(void 0,arguments)}}},[a("cColorText",{attrs:{block:"8",type:"b64u",colorText:t._SS.ownerAddress}})],1)],1)],1),a("v-uni-view",{staticClass:"sCardBox"},[a("v-uni-view",{staticClass:"sCard"},[a("v-uni-view",{staticClass:"sCardTitle"},[a("span",[t._v(t._s(t.localeText.tBalance))]),a("v-uni-view",{staticClass:"sActGroup"},[a("v-uni-navigator",{attrs:{url:"AccountDeposit"}},[a("v-uni-button",{staticClass:"sActButton"},[a("v-uni-view",{staticStyle:{backgroundImage:"url(../static/Common.deposit.png)"}}),t._v(t._s(t.localeText.tDeposit))],1)],1),a("v-uni-navigator",{attrs:{url:"AccountTransfer"}},[a("v-uni-button",{staticClass:"sActButton"},[a("v-uni-view",{staticStyle:{backgroundImage:"url(../static/Common.transfer.png)"}}),t._v(t._s(t.localeText.tTransfer))],1)],1)],1)],1),a("v-uni-view",{staticClass:"sCardContent",staticStyle:{display:"flex","flex-flow":"row wrap"}},[a("v-uni-view",{staticClass:"sStat"},[a("v-uni-label",[t._v("资金余额")]),a("v-uni-text",[t._v(t._s(t._SS.ownerBalance))])],1),a("v-uni-view",{staticClass:"sStat"},[a("v-uni-label",[t._v("交易次数")]),a("v-uni-text",[t._v(t._s(t._SS.ownerAccount.countAction||0))])],1)],1)],1)],1)],1),a("v-uni-view",{staticClass:"sTableBox"},[a("v-uni-view",{staticClass:"sTable"},[a("v-uni-view",{staticClass:"sTableTitle"},[t._v(t._s(t.localeText.tTableTitle)),a("v-uni-input",{staticClass:"sSearchbar",attrs:{type:"text",placeholder:t.localeText.tSearchbarPrompt,"placeholder-class":"sSearchbarPlaceholder","confirm-type":"search"}})],1),a("v-uni-view",{staticClass:"sTableHead"},t._l(t.localeText.tFieldList,(function(e,s){return a("v-uni-view",{key:s,staticClass:"sTableHeadCell",class:"sCell4"+s},[t._v(t._s(e))])})),1),a("v-uni-view",{staticClass:"sTableBody"},t._l(t.actionList,(function(e,s){return a("v-uni-view",{key:e.hash,staticClass:"sTableRow"},[a("v-uni-view",{staticClass:"sTableRowCell sCell4hash",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.copyCell(s,"hash")}}},[a("v-uni-label",{staticClass:"sCellLabel"},[t._v(t._s(t.localeText.tFieldList.hash))]),a("cColorText",{attrs:{block:"6",colorText:e.hash}})],1),a("v-uni-view",{staticClass:"sTableRowCell sCell4type"},[a("v-uni-label",{staticClass:"sCellLabel"},[t._v(t._s(t.localeText.tFieldList.type))]),a("span",{staticClass:"sCellText"},[t._v(t._s(e.type))])],1),a("v-uni-view",{staticClass:"sTableRowCell sCell4oponent",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.copyCell(s,"oponent")}}},[a("v-uni-label",{staticClass:"sCellLabel"},[t._v(t._s(t.localeText.tFieldList.oponent))]),a("cColorText",{attrs:{block:"8",type:"b64u",colorText:e.oponent}})],1),a("v-uni-view",{staticClass:"sTableRowCell sCell4direction"},[a("v-uni-label",{staticClass:"sCellLabel"},[t._v(t._s(t.localeText.tFieldList.direction))]),a("span",{staticClass:"sCellText"},[t._v(t._s(e.direction))])],1),a("v-uni-view",{staticClass:"sTableRowCell sCell4timeiso"},[a("v-uni-label",{staticClass:"sCellLabel"},[t._v(t._s(t.localeText.tFieldList.timeiso))]),a("span",{staticClass:"sCellText"},[t._v(t._s(t.formatDate(e.timeiso)))])],1),a("v-uni-view",{staticClass:"sTableRowCell sCell4amount"},[a("v-uni-label",{staticClass:"sCellLabel"},[t._v(t._s(t.localeText.tFieldList.amount))]),a("span",{staticClass:"sCellText"},[t._v(t._s(e.amount))])],1),a("v-uni-view",{staticClass:"sTableRowCell sCell4fee"},[a("v-uni-label",{staticClass:"sCellLabel"},[t._v(t._s(t.localeText.tFieldList.fee))]),a("span",{staticClass:"sCellText"},[t._v(t._s(e.fee))])],1),a("v-uni-view",{staticClass:"sTableRowCell sCell4message"},[a("v-uni-label",{staticClass:"sCellLabel"},[t._v(t._s(t.localeText.tFieldList.message))]),a("span",{staticClass:"sCellText"},[t._v(t._s(e.message))])],1)],1)})),1),a("v-uni-view",{staticClass:"sTableFoot"},[a("cPager",{attrs:{title:"翻页","show-icon":"true","show-edge":"true",total:t._SS.ownerAccount.countAction,current:"1",pageSize:t.pageSize},on:{change:function(e){arguments[0]=e=t.$handleEvent(e),t.loadActionList.apply(void 0,arguments)}}})],1)],1)],1)],1)],1)],1)},n=[];a.d(e,"b",(function(){return i})),a.d(e,"c",(function(){return n})),a.d(e,"a",(function(){return s}))}}]);