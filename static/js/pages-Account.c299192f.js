(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-Account"],{"2c04":function(t,e,s){"use strict";s.r(e);var a=s("4ed6"),n=s("b8af");for(var i in n)"default"!==i&&function(t){s.d(e,t,function(){return n[t]})}(i);s("6f6c");var l,o=s("f0c5"),c=Object(o["a"])(n["default"],a["b"],a["c"],!1,null,"3bbdac85",null,!1,a["a"],l);e["default"]=c.exports},"4ed6":function(t,e,s){"use strict";var a={cColorText:s("0d90").default,cPager:s("1dcf").default},n=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-uni-view",{staticClass:"sPage"},[s("v-uni-view",{staticClass:"sHeader"},[s("div",{staticClass:"sSlogan"},[t._v("TIC Lens")])]),s("v-uni-view",{staticClass:"sBody"},[s("v-uni-view",{staticClass:"sContent"},[s("v-uni-view",{staticClass:"sCardGroup"},[s("v-uni-view",{staticClass:"sCardBox"},[s("v-uni-view",{staticClass:"sCard"},[s("v-uni-view",{staticClass:"sCardTitle"},[s("span",[t._v(t._s(t.localeText.tAddress))]),s("v-uni-view",{staticClass:"sActGroup"},[s("v-uni-button",{staticClass:"sActButton",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.changeAddress.apply(void 0,arguments)}}},[s("v-uni-view",{staticStyle:{backgroundImage:"url(../static/Common.exit.png)"}}),t._v(t._s(t.localeText.tLogout))],1)],1)],1),s("v-uni-view",{staticClass:"sCardContent",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.copyAddress.apply(void 0,arguments)}}},[s("cColorText",{attrs:{type:"b64u",colorText:t._SS.ownerAddress}})],1)],1)],1),s("v-uni-view",{staticClass:"sCardBox"},[s("v-uni-view",{staticClass:"sCard"},[s("v-uni-view",{staticClass:"sCardTitle"},[s("span",[t._v(t._s(t.localeText.tBalance))]),s("v-uni-view",{staticClass:"sActGroup"},[s("v-uni-navigator",{attrs:{url:"AccountDeposit"}},[s("v-uni-button",{staticClass:"sActButton"},[s("v-uni-view",{staticStyle:{backgroundImage:"url(../static/Common.deposit.png)"}}),t._v(t._s(t.localeText.tDeposit))],1)],1),s("v-uni-navigator",{attrs:{url:"AccountTransfer"}},[s("v-uni-button",{staticClass:"sActButton"},[s("v-uni-view",{staticStyle:{backgroundImage:"url(../static/Common.transfer.png)"}}),t._v(t._s(t.localeText.tTransfer))],1)],1)],1)],1),s("v-uni-view",{staticClass:"sCardContent",staticStyle:{display:"flex","flex-flow":"row wrap"}},[s("v-uni-view",{staticClass:"sStat"},[s("v-uni-label",[t._v("资金余额")]),s("v-uni-text",[t._v(t._s(t._SS.ownerBalance))])],1),s("v-uni-view",{staticClass:"sStat"},[s("v-uni-label",[t._v("交易次数")]),s("v-uni-text",[t._v(t._s(t.ownerAccount.countAction||0))])],1)],1)],1)],1)],1),s("v-uni-view",{staticClass:"sTableBox"},[s("v-uni-view",{staticClass:"sTable"},[s("v-uni-view",{staticClass:"sTableTitle"},[t._v(t._s(t.localeText.tTableTitle)),s("v-uni-input",{staticClass:"sSearchbar",attrs:{type:"text",placeholder:t.localeText.tSearchbarPrompt,"placeholder-class":"sSearchbarPlaceholder","confirm-type":"search"}})],1),s("v-uni-view",{staticClass:"sTableHead"},t._l(t.localeText.tFieldList,function(e,a){return s("v-uni-view",{key:a,staticClass:"sTableHeadCell",class:"sCell4"+a},[t._v(t._s(e))])}),1),s("v-uni-view",{staticClass:"sTableBody"},t._l(t.actionList,function(e,a){return s("v-uni-view",{key:e.hash,staticClass:"sTableRow"},[s("v-uni-view",{staticClass:"sTableRowCell sCell4hash",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.copyCell(a,"hash")}}},[s("v-uni-label",{staticClass:"sCellLabel"},[t._v(t._s(t.localeText.tFieldList.hash))]),s("cColorText",{attrs:{colorText:e.hash}})],1),s("v-uni-view",{staticClass:"sTableRowCell sCell4type"},[s("v-uni-label",{staticClass:"sCellLabel"},[t._v(t._s(t.localeText.tFieldList.type))]),s("span",{staticClass:"sCellText"},[t._v(t._s(e.type))])],1),s("v-uni-view",{staticClass:"sTableRowCell sCell4oponent",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.copyCell(a,"oponent")}}},[s("v-uni-label",{staticClass:"sCellLabel"},[t._v(t._s(t.localeText.tFieldList.oponent))]),s("cColorText",{attrs:{type:"b64u",colorText:e.oponent}})],1),s("v-uni-view",{staticClass:"sTableRowCell sCell4direction"},[s("v-uni-label",{staticClass:"sCellLabel"},[t._v(t._s(t.localeText.tFieldList.direction))]),s("span",{staticClass:"sCellText"},[t._v(t._s(e.direction))])],1),s("v-uni-view",{staticClass:"sTableRowCell sCell4timestamp"},[s("v-uni-label",{staticClass:"sCellLabel"},[t._v(t._s(t.localeText.tFieldList.timestamp))]),s("span",{staticClass:"sCellText"},[t._v(t._s(t.formatDate(e.timestamp)))])],1),s("v-uni-view",{staticClass:"sTableRowCell sCell4amount"},[s("v-uni-label",{staticClass:"sCellLabel"},[t._v(t._s(t.localeText.tFieldList.amount))]),s("span",{staticClass:"sCellText"},[t._v(t._s(e.amount))])],1),s("v-uni-view",{staticClass:"sTableRowCell sCell4fee"},[s("v-uni-label",{staticClass:"sCellLabel"},[t._v(t._s(t.localeText.tFieldList.fee))]),s("span",{staticClass:"sCellText"},[t._v(t._s(e.fee))])],1),s("v-uni-view",{staticClass:"sTableRowCell sCell4message"},[s("v-uni-label",{staticClass:"sCellLabel"},[t._v(t._s(t.localeText.tFieldList.message))]),s("span",{staticClass:"sCellText"},[t._v(t._s(e.message))])],1)],1)}),1),s("v-uni-view",{staticClass:"sTableFoot"},[s("cPager",{attrs:{title:"翻页","show-icon":"true","show-edge":"true",total:t.ownerAccount.countAction,current:"1",pageSize:t.pageSize},on:{change:function(e){arguments[0]=e=t.$handleEvent(e),t.changePage.apply(void 0,arguments)}}})],1)],1)],1)],1)],1)],1)},i=[];s.d(e,"b",function(){return n}),s.d(e,"c",function(){return i}),s.d(e,"a",function(){return a})},"6f6c":function(t,e,s){"use strict";var a=s("abac"),n=s.n(a);n.a},abac:function(t,e,s){var a=s("d026");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var n=s("4f06").default;n("39763dd5",a,!0,{sourceMap:!1,shadowMode:!1})},b8af:function(t,e,s){"use strict";s.r(e);var a=s("f671"),n=s.n(a);for(var i in a)"default"!==i&&function(t){s.d(e,t,function(){return a[t]})}(i);e["default"]=n.a},d026:function(t,e,s){e=t.exports=s("2350")(!1),e.push([t.i,'@charset "UTF-8";\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\n/* 颜色变量 */\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */\n/******* LOG 私有定义 ************/.sCardContent .sColorText[data-v-3bbdac85]{cursor:pointer}.sCardContent .sColorText .sColorCode[data-v-3bbdac85]{padding:4px 0}.sStat[data-v-3bbdac85]{border:1px solid #eee;border-radius:%?20?%;margin:%?4?% %?16?%;font-size:small;padding:%?8?% %?16?%\n\n}.sStat uni-text[data-v-3bbdac85]{color:#fc4e2b;padding-left:8px}@media screen and (min-width:751px){.sStat[data-v-3bbdac85]{margin:4px 16px;padding:8px 16px}}.sCell4hash[data-v-3bbdac85]{width:20%;cursor:pointer}.sCell4type[data-v-3bbdac85]{width:10%}.sCell4oponent[data-v-3bbdac85]{width:20%;cursor:pointer}.sCell4direction[data-v-3bbdac85]{width:10%}.sCell4timestamp[data-v-3bbdac85]{width:10%}.sCell4amount[data-v-3bbdac85]{width:10%}.sCell4fee[data-v-3bbdac85]{width:5%}.sCell4message[data-v-3bbdac85]{width:15%}',""])},f671:function(t,e,s){"use strict";(function(t){var a=s("288e");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=a(s("75fc")),i=a(s("768b"));s("96cf");var l=a(s("3b8d")),o=a(s("15b8")),c={data:function(){return{i18nText:(0,o.default)({zhCN:{tPageTitle:"时光透镜",tFieldList:{hash:"哈希",type:"类型",oponent:"对方",direction:"方向",timestamp:"时间",amount:"金额",fee:"费用",message:"备注"},tAddress:"我的账号",tLogout:"退出",tBalance:"我的财富",tDeposit:"存入",tTransfer:"转出",tTableTitle:"我的交易",tAddressCopied:"我的账号已拷贝",tCellCopied:"已拷贝",tEmptyAddress:"我的账号为空",tSwitchPrompt:"真的退出吗？",tSwitchConfirm:"退出",tSwitchCancel:"取消",tLoadingTitle:"加载中...",tSearchbarPrompt:"搜索功能即将上线"},enUS:{tPageTitle:"TIC Lens",tFieldList:{hash:"Hash",type:"Type",oponent:"Oponent",direction:"Direction",timestamp:"Time",amount:"Amount",fee:"Fee",message:"Notes"},tAddress:"My Address",tLogout:"Logout",tBalance:"My Balance",tDeposit:"存入",tTransfer:"转出",tTableTitle:"My Actions",tAddressCopied:"My address is copied to clipboard successfully",tCellCopied:"is copied to clipboard",tEmptyAddress:"My address is empty",tSwitchPrompt:"Are you sure to logout?",tSwitchConfirm:"Logout",tSwitchCancel:"Cancel",tLoadingTitle:"Loading...",tSearchbarPrompt:"Search will go online soon"}}),actionList:[],pageSize:10,ownerAccount:{}}},computed:{localeText:function(){return this.i18nText[this._SS.i18n.activeLang]}},onLoad:function(){var t=(0,l.default)(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(this.uni2log.relaunch4newSession()){t.next=7;break}return uni.showLoading({title:this.localeText.tLoadingTitle}),t.next=4,this.loadAccount();case 4:return t.next=6,this.loadActionList();case 6:uni.hideLoading();case 7:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),onShow:function(){uni.setNavigationBarTitle({title:this.localeText.tPageTitle}),this._SC("i18n/setTabbar")},methods:{loadAccount:function(){var e=(0,l.default)(regeneratorRuntime.mark(function e(){var s,a,n,l,o;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.uni2log.request({url:"api/Account/getAccount",data:{Account:{address:this._SS.ownerAddress}}});case 2:s=e.sent,a=(0,i.default)(s,2),a[0],n=a[1],n=void 0===n?{}:n,l=n.data,n.header,o=n.statusCode,200===o?l&&"Account"===l._class&&(this._SS.ownerBalance=l.balance,this.ownerAccount=l,t.log("account = ",l)):uni.showToast({image:"../static/Common.fail.png",title:"账户加载失败"});case 9:case"end":return e.stop()}},e,this)}));function s(){return e.apply(this,arguments)}return s}(),loadActionList:function(){var e=(0,l.default)(regeneratorRuntime.mark(function e(){var s,a,l,o,c,r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.uni2log.request({url:"api/Action/getMyActionList",data:{myAddress:this._SS.ownerAddress,config:{order:"timestamp desc",limig:this.pageSize}}});case 2:s=e.sent,a=(0,i.default)(s,2),a[0],l=a[1],l=void 0===l?{}:l,o=l.data,l.header,c=l.statusCode,200===c&&o&&(o.fromMe||o.toMe)&&(o.fromMe.map(function(t,e,s){t.direction="fromMe",t.oponent=t.toAddress}),o.toMe.map(function(t,e,s){t.direction="toMe",t.oponent=t.actorAddress}),r=[].concat((0,n.default)(o.fromMe),(0,n.default)(o.toMe)),t.log(r),this.actionList=r);case 9:case"end":return e.stop()}},e,this)}));function s(){return e.apply(this,arguments)}return s}(),copyAddress:function(){var t=this;this._SS.ownerAddress?uni.setClipboardData({data:this._SS.ownerAddress,success:function(){uni.showToast({title:t.localeText.tAddressCopied})}}):uni.showToast({title:this.localeText.tEmptyAddress,image:"../static/Common.fail.png"})},changePage:function(e){var s=e.type,a=e.current;t.log("go to ".concat(s," of ").concat(a))},copyCell:function(t,e){var s=this;uni.setClipboardData({data:this.actionList[t][e],success:function(){uni.showToast({image:"../static/Common.success.png",title:"".concat(s.localeText.tFieldList[e]," ").concat(s.localeText.tCellCopied)})}})},changeAddress:function(){var t=this;uni.showModal({title:this.localeText.tSwitchPrompt,content:" ",confirmText:this.localeText.tSwitchConfirm,cancelText:this.localeText.tSwitchCancel,success:function(e){var s=e.confirm;e.cancel;s&&(uni.removeStorageSync("ownerAddress"),t._SC("resetOwnerBalance"),t._SC("resetOwnerAddress"),uni.reLaunch({url:"IdentUser"}))}})},formatDate:function(t){return new Date(t).formatMe("yyyy-mm-dd HH:MM:SS")}}};e.default=c}).call(this,s("5a52")["default"])}}]);