(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-Account"],{"2c04":function(e,t,s){"use strict";s.r(t);var a=s("749d"),i=s("b8af");for(var n in i)"default"!==n&&function(e){s.d(t,e,(function(){return i[e]}))}(n);s("54fb");var o,l=s("f0c5"),c=Object(l["a"])(i["default"],a["b"],a["c"],!1,null,"7eec8594",null,!1,a["a"],o);t["default"]=c.exports},"54fb":function(e,t,s){"use strict";var a=s("5d3a"),i=s.n(a);i.a},"5d3a":function(e,t,s){var a=s("e384");"string"===typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);var i=s("4f06").default;i("8fd55f74",a,!0,{sourceMap:!1,shadowMode:!1})},"749d":function(e,t,s){"use strict";var a={cHeader:s("36d7").default},i=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-uni-view",{staticClass:"sPage"},[s("cToast",{ref:"toast"}),s("cHeader"),s("v-uni-view",{staticClass:"sBody"},[s("v-uni-view",{staticClass:"sContent"},[s("v-uni-view",{staticClass:"sCardGroup"},[s("v-uni-view",{staticClass:"sCardBox"},[s("v-uni-view",{staticClass:"sCard"},[s("v-uni-view",{staticClass:"sCardTitle"},[s("span",[e._v(e._s(e.localeText.tAddress))]),s("v-uni-view",{staticClass:"sActGroup"},[s("v-uni-button",{staticClass:"sActButton",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.uni2log.logout.apply(e.uni2log,arguments)}}},[s("v-uni-view",{staticStyle:{backgroundImage:"url(../static/Common.exit.png)"}}),e._v(e._s(e.localeText.tLogout))],1)],1)],1),s("v-uni-view",{staticClass:"sCardContent",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.copyAddress.apply(void 0,arguments)}}},[s("cColorText",{attrs:{block:"8",type:"b64u",colorText:e._SS.ownerAddress}})],1)],1)],1),s("v-uni-view",{staticClass:"sCardBox"},[s("v-uni-view",{staticClass:"sCard"},[s("v-uni-view",{staticClass:"sCardTitle"},[s("span",[e._v(e._s(e.localeText.tBalance))]),s("v-uni-view",{staticClass:"sActGroup"},[s("v-uni-navigator",{attrs:{url:"AccountDeposit"}},[s("v-uni-button",{staticClass:"sActButton"},[s("v-uni-view",{staticStyle:{backgroundImage:"url(../static/Common.deposit.png)"}}),e._v(e._s(e.localeText.tDeposit))],1)],1),s("v-uni-navigator",{attrs:{url:"AccountTransfer"}},[s("v-uni-button",{staticClass:"sActButton"},[s("v-uni-view",{staticStyle:{backgroundImage:"url(../static/Common.transfer.png)"}}),e._v(e._s(e.localeText.tTransfer))],1)],1)],1)],1),s("v-uni-view",{staticClass:"sCardContent",staticStyle:{display:"flex","flex-flow":"row wrap"}},[s("v-uni-view",{staticClass:"sStat"},[s("v-uni-label",[e._v("资金余额")]),s("v-uni-text",[e._v(e._s(e._SS.ownerBalance))])],1),s("v-uni-view",{staticClass:"sStat"},[s("v-uni-label",[e._v("交易次数")]),s("v-uni-text",[e._v(e._s(e._SS.ownerAccount.countAction||0))])],1)],1)],1)],1)],1),s("v-uni-view",{staticClass:"sTableBox"},[s("v-uni-view",{staticClass:"sTable"},[s("v-uni-view",{staticClass:"sTableTitle"},[e._v(e._s(e.localeText.tTableTitle)),s("v-uni-input",{staticClass:"sSearchbar",attrs:{type:"text",placeholder:e.localeText.tSearchbarPrompt,"placeholder-class":"sSearchbarPlaceholder","confirm-type":"search"}})],1),s("v-uni-view",{staticClass:"sTableHead"},e._l(e.localeText.tFieldList,(function(t,a){return s("v-uni-view",{key:a,staticClass:"sTableHeadCell",class:"sCell4"+a},[e._v(e._s(t))])})),1),s("v-uni-view",{staticClass:"sTableBody"},e._l(e.actionList,(function(t,a){return s("v-uni-view",{key:t.hash,staticClass:"sTableRow"},[s("v-uni-view",{staticClass:"sTableRowCell sCell4hash",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.copyCell(a,"hash")}}},[s("v-uni-label",{staticClass:"sCellLabel"},[e._v(e._s(e.localeText.tFieldList.hash))]),s("cColorText",{attrs:{block:"6",colorText:t.hash}})],1),s("v-uni-view",{staticClass:"sTableRowCell sCell4type"},[s("v-uni-label",{staticClass:"sCellLabel"},[e._v(e._s(e.localeText.tFieldList.type))]),s("span",{staticClass:"sCellText"},[e._v(e._s(t.type))])],1),s("v-uni-view",{staticClass:"sTableRowCell sCell4oponent",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.copyCell(a,"oponent")}}},[s("v-uni-label",{staticClass:"sCellLabel"},[e._v(e._s(e.localeText.tFieldList.oponent))]),s("cColorText",{attrs:{block:"8",type:"b64u",colorText:t.oponent}})],1),s("v-uni-view",{staticClass:"sTableRowCell sCell4direction"},[s("v-uni-label",{staticClass:"sCellLabel"},[e._v(e._s(e.localeText.tFieldList.direction))]),s("span",{staticClass:"sCellText"},[e._v(e._s(t.direction))])],1),s("v-uni-view",{staticClass:"sTableRowCell sCell4timeiso"},[s("v-uni-label",{staticClass:"sCellLabel"},[e._v(e._s(e.localeText.tFieldList.timeiso))]),s("span",{staticClass:"sCellText"},[e._v(e._s(e.formatDate(t.timeiso)))])],1),s("v-uni-view",{staticClass:"sTableRowCell sCell4amount"},[s("v-uni-label",{staticClass:"sCellLabel"},[e._v(e._s(e.localeText.tFieldList.amount))]),s("span",{staticClass:"sCellText"},[e._v(e._s(t.amount))])],1),s("v-uni-view",{staticClass:"sTableRowCell sCell4fee"},[s("v-uni-label",{staticClass:"sCellLabel"},[e._v(e._s(e.localeText.tFieldList.fee))]),s("span",{staticClass:"sCellText"},[e._v(e._s(t.fee))])],1),s("v-uni-view",{staticClass:"sTableRowCell sCell4message"},[s("v-uni-label",{staticClass:"sCellLabel"},[e._v(e._s(e.localeText.tFieldList.message))]),s("span",{staticClass:"sCellText"},[e._v(e._s(t.message))])],1)],1)})),1),s("v-uni-view",{staticClass:"sTableFoot"},[s("cPager",{attrs:{title:"翻页","show-icon":"true","show-edge":"true",total:e._SS.ownerAccount.countAction,current:"1",pageSize:e.pageSize},on:{change:function(t){arguments[0]=t=e.$handleEvent(t),e.loadActionList.apply(void 0,arguments)}}})],1)],1)],1)],1)],1)],1)},n=[];s.d(t,"b",(function(){return i})),s.d(t,"c",(function(){return n})),s.d(t,"a",(function(){return a}))},b8af:function(e,t,s){"use strict";s.r(t);var a=s("f671"),i=s.n(a);for(var n in a)"default"!==n&&function(e){s.d(t,e,(function(){return a[e]}))}(n);t["default"]=i.a},e384:function(e,t,s){var a=s("24fb");t=a(!1),t.push([e.i,'@charset "UTF-8";\n/**\n * 这里是uni-app内置的常用样式变量\n *\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\n *\n */\n/**\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\n *\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\n */\n/* 颜色变量 */\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */\n/******* LOG 私有定义 ************/.sCardContent .sColorText[data-v-7eec8594]{cursor:pointer}.sCardContent .sColorText .sColorCode[data-v-7eec8594]{padding:4px 0}.sCell4hash[data-v-7eec8594]{width:20%;cursor:pointer}.sCell4type[data-v-7eec8594]{width:10%}.sCell4oponent[data-v-7eec8594]{width:20%;cursor:pointer}.sCell4direction[data-v-7eec8594]{width:10%}.sCell4timeiso[data-v-7eec8594]{width:10%}.sCell4amount[data-v-7eec8594]{width:10%}.sCell4fee[data-v-7eec8594]{width:5%}.sCell4message[data-v-7eec8594]{width:15%}',""]),e.exports=t},f671:function(e,t,s){"use strict";(function(e){var a=s("ee27");s("99af"),s("d81d"),s("4e82"),s("dca8"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(s("d0ff")),n=a(s("d0af"));s("96cf");var o=a(s("c964")),l={data:function(){return{i18nText:Object.freeze({zhCN:{tPageTitle:"账户",tFieldList:{hash:"哈希",type:"类型",oponent:"对方",direction:"方向",timeiso:"时间",amount:"金额",fee:"费用",message:"备注"},tAddress:"我的账号",tLogout:"退出",tBalance:"我的财富",tDeposit:"存入",tTransfer:"转出",tTableTitle:"我的交易",tAddressCopied:"我的账号已拷贝",tCellCopied:"已拷贝",tEmptyAddress:"我的账号为空",tLoadingTitle:"加载中...",tSearchbarPrompt:"搜索功能即将上线",tFailedLoading:"交易加载失败，请稍后再试"},enUS:{tPageTitle:"Account",tFieldList:{hash:"Hash",type:"Type",oponent:"Oponent",direction:"Direction",timeiso:"Time",amount:"Amount",fee:"Fee",message:"Notes"},tAddress:"My Address",tLogout:"Logout",tBalance:"My Balance",tDeposit:"存入",tTransfer:"转出",tTableTitle:"My Actions",tAddressCopied:"My address is copied to clipboard successfully",tCellCopied:"is copied to clipboard",tEmptyAddress:"My address is empty",tLoadingTitle:"Loading...",tSearchbarPrompt:"Search will go online soon",tFailedLoading:"Failed to load my actions. Please try again later."}}),actionList:[],pageSize:10}},computed:{localeText:function(){return this.i18nText[this._SS.i18n.activeLang]},appName:function(){return this.$store.getters["i18n/getAppName"]}},onLoad:function(){var e=this;return(0,o.default)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.uni2log.relaunch4newSession()){t.next=5;break}return t.next=3,e.loadAccount();case 3:return t.next=5,e.loadActionList({type:"TOP",scenario:"FIRST_LOAD"});case 5:case"end":return t.stop()}}),t)})))()},onShow:function(){document.title=this.appName,this._SC("i18n/setTabbar")},methods:{loadAccount:function(){var t=this;return(0,o.default)(regeneratorRuntime.mark((function s(){var a,i,o,l,c;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return uni.showLoading({title:"正在加载账户信息..."}),s.next=3,t.uni2log.request({url:"api/Account/getAccount",data:{where:{address:t._SS.ownerAddress}}});case 3:a=s.sent,i=(0,n.default)(a,2),i[0],o=i[1],o=void 0===o?{}:o,l=o.data,o.header,c=o.statusCode,uni.hideLoading(),200===c?l&&"Account"===l._class&&(t._SS.ownerBalance=l.balance,t._SS.ownerAccount=l,e("log","account = ",l," at pages/Account.vue:70")):uni.reLaunch({url:"IdentHost"});case 11:case"end":return s.stop()}}),s)})))()},loadActionList:function(t){var s=this;return(0,o.default)(regeneratorRuntime.mark((function a(){var o,l,c,r,u,d,v,p,C,f,w;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(o=t.type,t.current,l=t.scenario,e("log","Action.loadActionList: go to ".concat(o)," at pages/Account.vue:80"),r=s.actionList.length?s.actionList[0].timeiso:0,u=s.actionList.length?s.actionList[s.actionList.length-1].timeiso:0,e("log",{upTimeiso:r,downTimeiso:u}," at pages/Account.vue:84"),"LEFT"!==o){a.next=9;break}c={where:{myAddress:s._SS.ownerAddress,timeiso:">".concat(r)},order:{timeiso:"DESC"},take:s.pageSize},a.next=22;break;case 9:if("RIGHT"!==o){a.next=13;break}c={where:{myAddress:s._SS.ownerAddress,timeiso:"<".concat(u)},order:{timeiso:"DESC"},take:s.pageSize},a.next=22;break;case 13:if("TOP"!==o&&"LEFT_END"!==o){a.next=17;break}c={where:{myAddress:s._SS.ownerAddress},order:{timeiso:"DESC"},take:s.pageSize},a.next=22;break;case 17:if("ground"!==o&&"RIGHT_END"!==o){a.next=21;break}c={where:{myAddress:s._SS.ownerAddress},order:{timeiso:"DESC"},take:s.pageSize},a.next=22;break;case 21:return a.abrupt("return");case 22:if(!("LEFT_END"===o&&s.actionList[0]&&new Date-new Date(s.actionList[0].timeiso)<6e4)){a.next=25;break}return s.uni2log.showToast.call(s,{image:"../static/Common.info.png",title:"已是最新交易"}),a.abrupt("return");case 25:return uni.showLoading({title:"正在加载交易记录..."}),a.next=28,s.uni2log.request({url:"api/Action/getMyActionList",data:c});case 28:d=a.sent,v=(0,n.default)(d,2),v[0],p=v[1],p=void 0===p?{}:p,C=p.data,p.header,f=p.statusCode,uni.hideLoading(),200===f?C&&(C.fromMe||C.toMe)&&(e("log","received data:",C," at pages/Account.vue:110"),C.fromMe.map((function(e,t,s){e.direction="fromMe",e.oponent=e.toAddress})),C.toMe.map((function(e,t,s){e.direction="toMe",e.oponent=e.actorAddress})),w=[].concat((0,i.default)(C.fromMe),(0,i.default)(C.toMe)),e("log",w," at pages/Account.vue:120"),w.length>0?(w.sort((function(e,t){return e<t?1:e===t?0:-1})),s.actionList=w):"FIRST_LOAD"!==l&&s.uni2log.showToast.call(s,{type:"info",image:"../static/Common.info.png",title:"没有更多交易"})):"FIRST_LOAD"!==l&&s.uni2log.showToast.call(s,{type:"fail",image:"../static/Common.fail.png",title:s.localeText.tFailedLoading});case 36:case"end":return a.stop()}}),a)})))()},copyAddress:function(){var e=this;this._SS.ownerAddress?uni.setClipboardData({data:this._SS.ownerAddress,success:function(){e.uni2log.showToast.call(e,{type:"success",image:"../static/Common.success.png",title:e.localeText.tAddressCopied})}}):this.uni2log.showToast.call(this,{type:"fail",title:this.localeText.tEmptyAddress,image:"../static/Common.fail.png"})},copyCell:function(e,t){var s=this;uni.setClipboardData({data:this.actionList[e][t],success:function(){s.uni2log.showToast.call(s,{type:"success",image:"../static/Common.success.png",title:"".concat(s.localeText.tFieldList[t]," ").concat(s.localeText.tCellCopied)})}})},formatDate:function(e){return new Date(e).formatMe("yyyy-mm-dd HH:MM:SS")}}};t.default=l}).call(this,s("0de9")["log"])}}]);